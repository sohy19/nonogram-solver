{% extends 'base.html' %} {% block content %} {% load static %}

<link rel="stylesheet" href="../static/result_style.css" />
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <style>
      #row-hints {
        width: max-content;
      }
    </style>
  </head>
  <body>
    <p id="size">
      <span id="row">{{ row }}</span> X <span id="col">{{ col }}</span>
    </p>
    <div id="col-hints">
      <div class="empty_grid"></div>
      <div class="empty_col"></div>
      <div class="col_box">
        {% for hint in col_hints %}
        <p class="cols">{{ hint }}</p>
        {% endfor %}
      </div>
      <div class="empty_grid"></div>
    </div>
    <div class="myGrid">
      <div class="empty_grid"></div>
      <div id="row-hints">
        {% for hint in row_hints %}
        <div>{{ hint }}</div>
        {% endfor %}
      </div>
      <table class="table">
        {% for ans in answer %}
        <tr>
          {% for a in ans %} {% if a %}
          <td width="70px" class="myTd" style="background-color: black"></td>
          {% else %}
          <td width="70px" class="myTd" style="background-color: white"></td>
          {% endif %} {% endfor %}
        </tr>
        {% endfor %}
      </table>
      <div class="empty_grid"></div>

      <script>
        const col = "{{col}}";
        widths = col * 70;
        const table = document.querySelector(".table");
        table.style.width = `${widths}px`;

        const colBox = document.querySelector(".col_box");
        colBox.style.width = `${widths}px`;

        const rowWidth = document.querySelector("#row-hints").clientWidth;
        const myGrid = document.querySelector(".myGrid");
        const myGridWidth = myGrid.clientWidth;

        const spaceWidth = myGridWidth - (widths + 150);

        const empty = document.querySelectorAll(".empty_grid");

        empty.forEach((item) => {
          item.style.width = `${spaceWidth / 2}px`;
        });

        const emptyCol = document.querySelector(".empty_col");
        emptyCol.style.width = `${rowWidth + 50}px`;
      </script>
    </div>
    <p id="number">연산 횟수 : {{ num }}</p>
  </body>
</html>

{% endblock %}
